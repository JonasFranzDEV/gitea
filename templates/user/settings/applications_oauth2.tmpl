<h4 class="ui top attached header">
	{{.i18n.Tr "settings.manage_oauth2_applications"}}
</h4>
<div class="ui attached segment">
	<div class="ui key list">
		<div class="item">
			{{.i18n.Tr "settings.oauth2_applications_desc"}}
		</div>
		{{range $app := .Applications}}
			<div class="item">
				<div class="right floated content">
					<button class="ui red tiny button delete-button" id="delete-oauth2-application"
						data-url="{{AppSubUrl}}/user/settings/security/oauth2/applications"
						data-id="{{$app.ID}}">
						{{$.i18n.Tr "settings.delete_key"}}
					</button>
				</div>
				<div class="content">
					<strong>{{$app.Name}}</strong>
				</div>
			</div>
		{{end}}
	</div>
</div>
<div class="ui attached bottom segment">
	<h5 class="ui top header">
		{{.i18n.Tr "settings.create_oauth2_application"}}
	</h5>
	<form class="ui form ignore-dirty" action="{{.Link}}/oauth2" method="post">
		{{.CsrfTokenHtml}}
		<div class="field {{if .Err_AppName}}error{{end}}">
			<label for="application-name">{{.i18n.Tr "settings.oauth2_application_name"}}</label>
			<input id="application-name" name="application_name" value="{{.application_name}}" required>
		</div>
		<div class="grouped fields">
			<label>{{.i18n.Tr "settings.oauth2_select_type"}}</label>
			<div class="field">
				<div class="ui radio checkbox">
					<input type="radio" id="webapp" value="web" name="application_type" checked="checked">
					<label for="webapp">{{.i18n.Tr "settings.oauth2_type_web"}}</label>
				</div>
			</div>
			<div class="field">
				<div class="ui radio checkbox">
					<input type="radio" id="nativeapp" value="native" name="application_type">
					<label for="nativeapp">{{.i18n.Tr "settings.oauth2_type_native"}}</label>
				</div>
			</div>
		</div>
		<div class="field {{if .Err_RedirectURI}}error{{end}}">
			<label for="redirect-uri">{{.i18n.Tr "settings.oauth2_redirect_uri"}}</label>
			<input type="url" name="redirect_uri" id="redirect-uri">
		</div>
		<button class="ui green button">
			{{.i18n.Tr "settings.create_oauth2_application_button"}}
		</button>
	</form>
</div>

<div class="ui small basic delete modal" id="delete-oauth2-application">
	<div class="ui icon header">
		<i class="trash icon"></i>
		{{.i18n.Tr "settings.remove_oauth2_application"}}
	</div>
	<div class="content">
		<p>{{.i18n.Tr "settings.remove_oauth2_application_desc"}}</p>
	</div>
	{{template "base/delete_modal_actions" .}}
</div>
